<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤—Ç–æ–ø–æ–ª–∏–≤ üåø</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="container mt-4">
    <header>
        <h1 class="text-center mb-4">–ê–≤—Ç–æ–ø–æ–ª–∏–≤ üåø</h1>
    </header>

    <main>
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ -->
        <section class="row">
            <div class="col-md-4">
                <div class="sensor-card">
                    <h5>üíß –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã</h5>
                    <h1 id="sensorValue1" class="display-4">0</h1>
                </div>
            </div>
            <div class="col-md-4">
                <div class="sensor-card">
                    <h5>üå± –í–ª–∞–∂–Ω–æ—Å—Ç—å –ø–æ—á–≤—ã</h5>
                    <h1 id="sensorValue2" class="display-4">0</h1>
                </div>
            </div>
            <div class="col-md-4">
                <div class="sensor-card">
                    <h5>üîÜ –û—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç—å</h5>
                    <h1 id="sensorValue3" class="display-4">0</h1>
                </div>
            </div>
        </section>

        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <section class="card mt-4">
            <div class="card-body">
                <h4 class="card-title">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h4>
                <div class="btn-group" role="group">
                    <button onclick="sendCommand('turn_on_led', 2)" class="btn btn-success">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å ‚úÖ</button>
                    <button onclick="sendCommand('turn_off_led', 2)" class="btn btn-danger">–í—ã–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å ‚ùå</button>
                </div>
                <div class="btn-group" role="group">
                    <button onclick="sendCommand('turn_on_led', 1)" class="btn btn-success">–í–∫–ª—é—á–∏—Ç—å –ª–∞–º–ø—É ‚úÖ</button>
                    <button onclick="sendCommand('turn_off_led', 1)" class="btn btn-danger">–í—ã–∫–ª—é—á–∏—Ç—å –ª–∞–º–ø—É ‚ùå</button>
                </div>
            </div>
        </section>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤ -->
        <section class="card mt-4">
            <div class="card-body">
                <h4 class="card-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤</h4>
                <div class="input-group mb-3">
                    <input type="number" id="moistureThreshold" class="form-control" placeholder="–ü–æ—Ä–æ–≥ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏">
                    <button class="btn btn-primary" onclick="setThreshold('moistureThreshold')">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="input-group mb-3">
                    <input type="number" id="waterThreshold" class="form-control" placeholder="–ü–æ—Ä–æ–≥ —É—Ä–æ–≤–Ω—è –≤–æ–¥—ã">
                    <button class="btn btn-primary" onclick="setThreshold('waterThreshold')">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="input-group mb-3">
                    <input type="number" id="lightThreshold" class="form-control" placeholder="–ü–æ—Ä–æ–≥ –æ—Å–≤–µ—â–µ–Ω–Ω–æ—Å—Ç–∏">
                    <button class="btn btn-primary" onclick="setThreshold('lightThreshold')">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                </div>
            </div>
        </section>

        <!-- Form to send commands -->
    <h2>Send Command to ESP8266</h2>
    <form onsubmit="event.preventDefault(); sendCommand1();">
        <input type="text" id="command" placeholder="Command (e.g., turn_on_led)" required>
        <input type="number" id="value" placeholder="Value (e.g., 1)" required>
        <button type="submit">Send Command</button>
    </form>
<!-- Buttons for sending specific commands -->
<h2>Control LED</h2>
<button onclick="sendCommand2('turn_on_led', 1)">Turn On LED</button>
<button onclick="sendCommand2('turn_off_led', 1)">Turn Off LED</button>

    <!-- Display server response -->
    <h2>Server Response</h2>
    <pre id="response"></pre>

    <!-- Display sensor data from ESP8266 -->
    <h2>ESP8266 Sensor Data</h2>
    <p>Sensor 1 Value: <span id="sensorValue1"></span></p>
    <p>Sensor 2 Value: <span id="sensorValue2"></span></p>
    <p>Sensor 3 Value: <span id="sensorValue3"></span></p>
    <pre id="sensorData"></pre>
        
    </main>

    <!-- –ì—Ä–∞—Ñ–∏–∫–∏ -->
    <canvas id="sensorChart" width="400" height="200"></canvas>
    <script src="scripts.js"></script>
</body>
</html>